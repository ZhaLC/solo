# java内存模型 (Java Memory Model，JMM)

# 什么是java内存模型
    就是一种符合内存模型规范的，屏蔽了各种硬件和操作系统的访问差异的，
    保证了Java程序在各种平台下对内存的访问都能保证效果一致的机制及规范
    
# java内存模型产生原因
    解决由于多线程通过共享内存进行通信时，存在的本地内存数据不一致、
    编译器会对代码指令重排序、处理器会对代码乱序执行等带来的问题    

# 并发编程的特性
    缓存一致性问题其实就是可见性问题。而处理器优化是可以导致原子性问题的。指令重排即会导致有序性问题

# java内存模型的主要目标
    定义程序中变量的访问规则
    
# java内存模型主要规范如下 (重点)
    1.所有的变量都存储在主内存中，每条线程还有自己的工作内存
    2.线程的工作内存中保存了该线程中是用到的变量的主内存副本拷贝
    3.线程对变量的所有操作都必须在工作内存中进行，而不能直接读写主内存
    4.不同的线程之间也无法直接访问对方工作内存中的变量
    5.线程间变量的传递均需要自己的工作内存和主存之间进行数据同步进行
    
# 知识点
    指令重排：
        为了提高程序的执行效率、按照一定的规则，读取重拍后的执行代码
    数据依赖：   
        程序执行代码上下文，有依赖关系的，称为数据依赖，且指令重排不会对其产生影响